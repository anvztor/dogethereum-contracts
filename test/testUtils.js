const utils = require('./utils');


describe('Utils', function() {
  const header1 = '0x03000000c63abe4881f9c765925fffb15c88cdb861e86a32f4c493a36c3e29c54dc62cf45ba4401d07d6d760e3b84fb0b9222b855c3b7c04a174f17c6e7df07d472d0126fe455556358c011b6017f799';
  const result1 = '3569d4c55c658997830bce8f904bf4cb74e63cfcc8e1037a5fab030000000000';
  const header2 = '0x0300620057d3b8d2eea9583dd4e07b3682baca4c34ea73ad6522c3291a0a193f834b40694d6eba5d0f79e3adfb1ccc838833d49fb0dbe2b4aa7ce3ca68c2b2c2007b319ca4362956ffff0f1eb9000100';
  const result2 = '9b24d029710aafdd4ce71bf4d3741bee4625d3889fe23d9417ccf7264c0f0000';
  const header3 = `0x03016200da16dd5b0168b4dc4301b0c3296b188fdb4b59099537776be21b5a53d65649a8ef7ee5829f401144e8dbd23e386597584558e1972a66e5a48a2b58cac629ee46f8455556481a041b0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff6403439e0de4b883e5bda9e7a59ee4bb99e9b1bcfabe6d6d65fdfa97de61e7932a69b3fc70d71fc5fec14639f4d8d92d8da7574acff1c2cd40000000f09f909f4d696e65642062792061696c696e37363232320000000000000000000000000000000000002a0000000168794696000000001976a914aa3750aa18b8a0f3f0590731e1fab934856680cf88acc5d6f6323569d4c55c658997830bce8f904bf4cb74e63cfcc8e1037a5fab03000000000004f529ba9787936a281f792a15d03dc1c6d2a45e25666432bcbe4663ad193a7f15307380ab3ab6f115e796fe4cea3b297b3c22018edad8d3982cf89fe3102265061ae397c9c145539a1de3eddfeff6ba512096542e41498cade2b4986d43d497c74c10c869bc28e301b2d9e7558237b1655f699f93a9635938f58cf750b94d4e9a00000000062900000000000000000000000000000000000000000000000000000000000000463ceed131958d98aee29089d1cf38b9728b224512e51ca3a8b1189d5ed03d0709b68fd6e328528f2a29ec7fb077c834fbf0f14c371fafcfb27444017fbf5b26fdb884bed8ad6a4bded36fc89ed8b05a6c6c0ae1cfd5fe37eb3021b32a1e29042b7a2e142329e7d0d0bffcb5cc338621a576b49d4d32991000b8d4ac793bc1f50c27ad8b8e751d85f7e9dc7a5ff18c817a72cd9976063c6849d1538f6a662d342800000003000000c63abe4881f9c765925fffb15c88cdb861e86a32f4c493a36c3e29c54dc62cf45ba4401d07d6d760e3b84fb0b9222b855c3b7c04a174f17c6e7df07d472d0126fe455556358c011b6017f799`;
  const result3 = '3569d4c55c658997830bce8f904bf4cb74e63cfcc8e1037a5fab030000000000';
  it('Scrypt from block header', () => {
    const hash1 = utils.calcHeaderPoW(header1);
    assert.equal(hash1, result1);
    const hash2 = utils.calcHeaderPoW(header2);
    assert.equal(hash2, result2);;
    const hash3 = utils.calcHeaderPoW(header3);
    assert.equal(hash3, result3);
  });
});
